<script src="https://d3js.org/d3.v4.min.js"></script>


<style>
</style>

<body>

</body>

<script>
  console.log(d3); // test if d3 is loaded

  //set width and height
  const width = 1900;
  const height = 920;

  // Add an SVG
  const svg = d3.select("body").append("svg").attr("width", width).attr("height", height);


  svg.append("text").attr("x", 400).attr("y", 75).attr("fill", "black").attr("font-size", "62px").text("Welcome to our Experiment!");
  svg.append("text").attr("x", 550).attr("y", 175).attr("fill", "black").attr("font-size", "24px").text("You will see bar, pie, and bubble charts.");
  svg.append("text").attr("x", 550).attr("y", 225).attr("fill", "black").attr("font-size", "24px").text("Please insert the what percent the smaller");
  svg.append("text").attr("x", 525).attr("y", 275).attr("fill", "black").attr("font-size", "24px").text("marked bar/slice/bubble is of the bigger marked");
  svg.append("text").attr("x", 600).attr("y", 325).attr("fill", "black").attr("font-size", "24px").text("bar/slice/bubble. Thank You!");


  //Returns a random int between min and max
  function getRandomInt(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min)) + min;
  }

  //Returns an array of random points in a pre-defined area
  function randPoints(numofpoints) {
    const result = [];
    for(let i = 0; i < numofpoints; i++) {
      let temp = [getRandomInt(1400, 1700), getRandomInt(200, 400)];
      result.push(temp);
    }
    return result;
  }

  var barwidth = 50;
  var barloc = 570;

  const bar1 = svg.append("rect").attr("x", barloc + (0 * barwidth)).attr("y", 375).attr("width", barwidth).attr("height", getRandomInt(50, 100)).attr("fill", "white").attr("stroke", "black");
  const bar2 = svg.append("rect").attr("x", barloc + (1 * barwidth)).attr("y", 375).attr("width", barwidth).attr("height", getRandomInt(50, 100)).attr("fill", "white").attr("stroke", "black");
  const bar3 = svg.append("rect").attr("x", barloc + (2 * barwidth)).attr("y", 375).attr("width", barwidth).attr("height", getRandomInt(50, 100)).attr("fill", "white").attr("stroke", "black");
  const bar4 = svg.append("rect").attr("x", barloc + (3 * barwidth)).attr("y", 375).attr("width", barwidth).attr("height", getRandomInt(50, 100)).attr("fill", "white").attr("stroke", "black");
  const bar5 = svg.append("rect").attr("x", barloc + (4 * barwidth)).attr("y", 375).attr("width", barwidth).attr("height", getRandomInt(50, 100)).attr("fill", "white").attr("stroke", "black");
  const bar6 = svg.append("rect").attr("x", barloc + (5 * barwidth)).attr("y", 375).attr("width", barwidth).attr("height", getRandomInt(50, 100)).attr("fill", "white").attr("stroke", "black");
  const bar7 = svg.append("rect").attr("x", barloc + (6 * barwidth)).attr("y", 375).attr("width", barwidth).attr("height", getRandomInt(50, 100)).attr("fill", "white").attr("stroke", "black");

  var dotloc = getRandomInt(0, 4);

  const dot1 = svg.append("circle").attr("cx", barloc + (dotloc * barwidth) + (barwidth/2)).attr("cy", 400).attr("r", 4).attr("fill", "black").attr("stroke", "black");
  const dot2 = svg.append("circle").attr("cx", barloc + ((dotloc+2) * barwidth) + (barwidth/2)).attr("cy", 400).attr("r", 4).attr("fill", "black").attr("stroke", "black");


  //TODO decide on what we are testing
  //TODO javascript for trial setup (1 question at a time)
  //TODO Create random data
  //TODO Add 3 graph types
  //TODO add code to collect data and output to csv
  //TODO add code to calculate error
  //TODO add code for confidence intervals
  //TODO create graph to show results
  //Useful link maybe: https://www.d3-graph-gallery.com/graph/interactivity_button.html
</script>
